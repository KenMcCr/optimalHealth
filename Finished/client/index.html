<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <title>Document</title>
</head>

<body>
    <section class="hero" id="hero_ID">
        <div class="container">
            <h1>SYNCHRONICITY</h1>
        
            <h2 class="description">
                PROVIDING HIGH FREQUENCIES FOR HEALTH AND HEALING FOR THE BEST RESULTS WEAR HEADPHONES
            </h2>
        </div>

        <p class="how_R_U">How are you feeling today</p>
        <section class="feelings">
            <div class="elated" id="spotifyBttn" data-genre="elated">Elated</div>
            <div class="tranquil" id="spotifyBttn" data-genre="tranquil">Tranquil</div>
            <div class="gloomy" id="spotifyBttn" data-genre="gloomy">Gloomy</div>
        </section>

        <section class="bttn_align">
            <button class="recom_bttn">Suggest Songs!</button>
        </section>

        <section class="songs_sec" id="playlist_songs">
            
        </section>
    </section>  
    

    <section class="recommendations_hidden" id="suggest">
        <div class="x-button_align">
            <img src="Picture/Unknown.png" alt="x-button" class="x-button"/>
        </div>
        <div class="div_form">
            <form action="/" method="POST" id="recommend">

                <label for="fullName">Full Name:</label>
                <input type="text" id="fullName" name="fullName" placeholder="Your full name" required>
    
                <label for="phone">Phone Number:</label>
                <input type="tel" id="phone" name="number" placeholder="Your phone number" required>
    
                <label for="recommendation">Recommendation:</label>
                <textarea id="recomendation" name="recommendation" rows="7" cols="50" placeholder="Please leave your comment here..." required></textarea>
    
                <input type="submit" class="submit">
            </form>
        </div>
    </section>

<script src="./app.js"></script>
<script>
    const myForm = document.getElementById('recommend');
    const fName = document.getElementById('fullName');
    const pNum = document.getElementById('phone');
    const recom = document.getElementById('recommendation');

    myForm.addEventListener('submit', (event) =>{
        event.preventDefault();
        
        fetch('/', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json', 
            'Access-Control-Allow-Origin': '*'
        },
        body: JSON.stringify({
            user: {
                name: fName,
                phone: pNum,
                recommend: recom
            }
        })
    })

    });
</script>
<!-- <script>
    fetch('https://accounts.spotify.com/authorize', {  mode: 'cors' })

    fetch('https://api.spotify.com/v1/playlists/6wObnEPQ63a4kei1sEcMdH/tracks',{  mode: 'cors' }).then(function (response) {
                return response.json();
            })
            .then(function (data) {
                appendData(data);
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });
        function appendData(data) {
            var mainContainer = document.getElementById("myData");
            for (var i = 0; i < data.length; i++) {
                var div = document.createElement("div");
                div.innerHTML = 'Name: ' + data[i].track;
                mainContainer.appendChild(div);
            }
        }

</script> -->
</body>

</html>